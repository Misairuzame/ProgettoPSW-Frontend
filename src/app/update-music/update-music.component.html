<div class="container">
    <table class="table table-bordered table-striped table-light">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Id</th>
            <th scope="col">Titolo</th>
            <th scope="col">Autore</th>
            <th scope="col">Album</th>
            <th scope="col">Year</th>
            <th scope="col">Genre</th>
            <th scope="col">URL</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngIf="success">
            <td>{{ music.id }}</td>
            <td>{{ music.title }}</td>
            <td>{{ music.author }}</td>
            <td>{{ music.album }}</td>
            <td>{{ music.year }}</td>
            <td>{{ music.genre }}</td>
            <td>{{ music.url }}</td>
          </tr>
        </tbody>
    </table>

<form class="form-inline">
    <div class="form-group">
        <label for="musicId"><h6>ID Musica da modificare:</h6></label>
        <input type="number" class="form-control ml-3" [(ngModel)]="musicId" name="musicId" id="musicId">
    </div>
    <input type="submit" class="btn btn-primary ml-3" (click)="getData(musicId)" value="Cerca">
</form>

<div id="oneMusic" *ngIf="success" class="mt-3">
    <form [formGroup]="updateForm" (ngSubmit)="updateMusic()">
            <div class="form-group">
                <label for="musicId">ID Musica</label>
                <input class="form-control" formControlName="musicId" type="number" name="musicId" id="musicId" readonly>
            </div>
            <div class="form-group">
                <label for="title">Titolo</label>
                <input class="form-control" formControlName="title" type="text" name="title" id="title">
            </div>
            <div class="form-group">
                <label for="author">Autore</label>
                <input class="form-control" formControlName="author" type="text" name="author" id="author">
            </div>
            <div class="form-group">
                <label for="album">Album</label>
                <input class="form-control" formControlName="album" type="text" name="album" id="album">
            </div>        
            <div class="form-group">
                <label for="year">Anno</label>
                <input class="form-control" formControlName="year" type="number" name="year" id="year" min=0>
            </div>
            <div class="form-group">
                <label for="genre">Genere</label>
                <input class="form-control" formControlName="genre" type="text" name="genre" id="genre">
            </div>
            <div class="form-group">
                <label for="url">URL</label>
                <input class="form-control" formControlName="url" type="text" name="url" id="url">
            </div>
            <div class="form-group">
                <input type="submit" class="btn btn-block" [disabled]="!updateForm.valid" [class.btn-primary]="updateForm.valid"
                [class.btn-secondary]="!updateForm.valid" value="Modifica">
            </div>
    </form>
</div>

<div class="alert fade step m-3" [class.show]="show" [class.alert-success]="success" [class.alert-danger]="!success" role="alert">
    <button type="button" class="close" (click)="show = false" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
    <strong>Messaggio dal server:</strong> {{ message }}
</div>
</div>